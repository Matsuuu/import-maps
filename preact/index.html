<!DOCTYPE html>
<html>
  <head>
    <title>Parcel Sandbox</title>
    <meta charset="UTF-8" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css"
    />

    <script type="importmap">
      {
        "imports": {
          "preact": "https://esm.sh/preact",
          "preact/": "https://esm.sh/preact/",
          "htm": "https://esm.sh/htm"
        }
      }
    </script>
  </head>

  <body>
    <script type="module">
      import { h, Component, render } from "preact";
      import { useState } from "preact/hooks";
      import htm from "htm";

      // Initialize htm with Preact
      const html = htm.bind(h);

      function App(props) {
        return html`<h1>Hello ${props.name}!</h1>
          <${Button} /> `;
      }

      function Button() {
        const [count, setCount] = useState(0);
        return html`
          <p>Clicked: ${count}</p>
          <button onClick=${() => setCount(count + 1)}>Increment</button>
        `;
      }

      render(html`<${App} name="World" />`, document.body);
    </script>
  </body>
</html>
